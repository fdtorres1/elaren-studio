---
import { resolveIcon } from '../../lib/icons';

interface ListItem {
	icon: string;
	title: string;
	desc?: string;
}

interface Props {
	bg?: 'paper' | 'muted';
	kicker: string;
	title: string;
	items: ListItem[];
}

const { bg = 'paper', kicker, title, items } = Astro.props;

const bgClass = bg === 'muted' ? 'relative py-16 md:py-24 overflow-hidden' : 'bg-paper py-16 md:py-24';
const bgStyle = bg === 'muted' ? 'background-color: var(--clr-muted);' : undefined;
---

<section class={bgClass} style={bgStyle}>
	{bg === 'muted' && (
		<div class="absolute top-0 right-0 w-96 h-96 bg-slate-300/25 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"></div>
	)}
	<div class="container relative z-10">
		<div class="max-w-3xl mx-auto">
			<p class="text-sm font-medium text-accent uppercase tracking-wider mb-3">{kicker}</p>
			<h2 class="text-2xl md:text-3xl font-semibold mb-8 text-ink">{title}</h2>
			<div class="space-y-6">
				{items.map((item) => (
					<div class="flex items-start gap-4">
						<div class="w-10 h-10 bg-accent/10 rounded-xl flex items-center justify-center flex-shrink-0 mt-0.5">
							<svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={resolveIcon(item.icon)} />
							</svg>
						</div>
						<div>
							<h3 class="font-semibold text-ink mb-1">{item.title}</h3>
							{item.desc && <p class="text-ink/70">{item.desc}</p>}
						</div>
					</div>
				))}
			</div>
			<slot />
		</div>
	</div>
</section>
