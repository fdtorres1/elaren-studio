---
import type { Resource } from "../lib/resources";
import { getResourceUrl, TYPE_LABELS } from "../lib/resources";

interface Props {
	resources: Resource[];
}

const { resources } = Astro.props;

if (!resources.length) return;
---

<section class="mt-12 pt-12 border-t border-slate-100">
	<h2 class="text-xl font-semibold mb-6 text-ink">Related resources</h2>
	<div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
		{resources.map((r) => (
			<a
				href={getResourceUrl(r)}
				class="rounded-xl border border-slate-100 p-5 hover:border-accent/30 hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 no-underline group"
			>
				<span class="text-xs font-medium uppercase tracking-wider text-accent">
					{TYPE_LABELS[r.data.type]}
				</span>
				<h3 class="font-semibold text-ink mt-1 mb-1 group-hover:text-accent transition-colors">
					{r.data.title}
				</h3>
				{r.data.description && (
					<p class="text-sm text-ink/60 line-clamp-2">{r.data.description}</p>
				)}
			</a>
		))}
	</div>
</section>
