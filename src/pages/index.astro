---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import ServiceCard from '../components/ServiceCard.astro';
import WorkCard from '../components/WorkCard.astro';
import SectionHeading from '../components/SectionHeading.astro';
import { readFile } from 'fs/promises';
import { parseMarkdown } from '../utils/markdown';
import { markdownToHtml } from '../utils/markdownToHtml';

const content = await readFile('./elaren_site_content/index.md', 'utf-8');
const { frontmatter, body } = parseMarkdown(content);

// Binary representation of "ELAREN STUDIO" in ASCII
// E=01000101 L=01001100 A=01000001 R=01010010 E=01000101 N=01001110 [space]=00100000 S=01010011 T=01010100 U=01010101 D=01000100 I=01001001 O=01001111
const binaryString = '01000101010011000100000101010010010001010100111000100000010100110101010001010101010001000100100101001111';
// Create repeating pattern: enough rows/columns to fill entire hero section - no gaps, continuous
const binaryPattern = Array.from({ length: 150 }, () => 
	Array.from({ length: 60 }, () => binaryString).join('')
).join('\n');
---

<BaseLayout title={frontmatter.title} description={frontmatter.description}>
	<Header />
	<main>
		<!-- Hero Section with enhanced gradient background -->
		<section class="relative py-20 md:py-32 overflow-hidden" style="background: linear-gradient(to top, #eef2f6 0%, #f1f5f9 50%, #ffffff 100%);">
			<!-- Binary pattern: "ELAREN STUDIO" in ASCII binary - tight repeating pattern with fade matching gradient -->
			<div class="absolute inset-0 opacity-[0.10] font-mono text-[8px] leading-[10px] text-ink/60 select-none overflow-hidden" style="font-family: 'Courier New', 'Courier', monospace; letter-spacing: 0px; mask-image: linear-gradient(to bottom, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.4) 20%, rgba(0,0,0,0.55) 35%, rgba(0,0,0,0.7) 50%, rgba(0,0,0,0.85) 75%, rgba(0,0,0,1) 100%); -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.4) 20%, rgba(0,0,0,0.55) 35%, rgba(0,0,0,0.7) 50%, rgba(0,0,0,0.85) 75%, rgba(0,0,0,1) 100%);">
				<div style="transform: translateX(-1px) translateY(-1px); white-space: pre;">
					{binaryPattern}
				</div>
			</div>
			
			<!-- Decorative elements -->
			<div class="absolute top-0 right-0 w-96 h-96 bg-slate-200/30 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
			<div class="absolute bottom-0 left-0 w-96 h-96 bg-slate-300/40 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"></div>
			<div class="absolute bottom-0 right-1/4 w-80 h-80 bg-slate-300/30 rounded-full blur-3xl translate-y-1/3"></div>
			
			<div class="container relative z-10">
				<div class="max-w-4xl">
					<h1 class="text-5xl md:text-6xl font-semibold mb-6 text-ink leading-tight">
						Bright, enduring websites.
					</h1>
					<p class="text-xl md:text-2xl text-ink/80 mb-10 leading-relaxed max-w-3xl">
						We design, launch, and care for clean, fast sites—so your team can focus on the work that matters.
					</p>
					<div>
						<a
							href="/contact"
							class="inline-flex items-center justify-center px-8 py-4 bg-accent text-paper rounded-xl font-semibold no-underline shadow-xl shadow-accent/40 hover:shadow-2xl hover:shadow-accent/50 hover:-translate-y-0.5 transition-all duration-200 text-lg"
						>
							Start a project
						</a>
					</div>
				</div>
			</div>
		</section>

		<!-- Services Section with light background -->
		<section class="bg-paper py-16 md:py-24 relative">
			<div class="container">
				<SectionHeading
					kicker="What we do"
					title="Simple services built for clarity and longevity"
					description="Every project follows a transparent process—no surprises, just clean results."
				/>
				<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
					<ServiceCard
						title="Design & Build"
						description="Custom static websites with modern frameworks, clear hierarchy, and precise typography."
						features={[
							"10-day launch window",
							"Responsive design",
							"Global CDN deploy",
							"SEO and analytics setup"
						]}
						price="Starting at $3,800"
						link="/services"
						linkText="Learn more →"
						icon="design"
					/>
					<ServiceCard
						title="Website-as-a-Service"
						description="Lease your site with $0 down and ongoing improvements. Or buy it up-front and add a light monthly care plan."
						features={[
							"$0 down, hosting included",
							"Unlimited small edits",
							"Uptime monitoring & backups",
							"Own your site after 12 months"
						]}
						price="From $175/month"
						link="/pricing"
						linkText="View pricing →"
						icon="care"
					/>
					<ServiceCard
						title="Landing Pages"
						description="Campaign-ready pages that convert. Fast turnaround, measurable results."
						features={[
							"Fast turnaround",
							"Preview-first workflow",
							"Conversion optimized",
							"Analytics included"
						]}
						price="From $1,000"
						link="/services"
						linkText="Learn more →"
						icon="landing"
					/>
				</div>
			</div>
		</section>

		<!-- Approach Section - redesigned -->
		<section class="py-16 md:py-24 relative" style="background-color: #eef2f6;">
			<div class="container">
				<SectionHeading
					kicker="Our approach"
					title="Structure. Light. Clarity."
					description="Every Elaren site starts with a clear structure, intentional typography, and a global CDN. No clutter. No bloat. Just clean, enduring architecture that stands the test of time."
				/>
				
				<!-- Visual elements - larger and more prominent -->
				<div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
					<div class="text-center p-8 bg-paper rounded-xl border-2 border-slate-200 shadow-md hover:shadow-lg hover:border-accent/30 hover:-translate-y-1 transition-all duration-300 group">
						<div class="w-16 h-16 bg-accent/10 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:bg-accent/20 group-hover:scale-110 transition-all duration-300">
							<svg class="w-8 h-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
							</svg>
						</div>
						<h4 class="text-xl font-semibold text-ink mb-2">Structure</h4>
						<p class="text-base text-ink/70">Clear hierarchy</p>
					</div>
					<div class="text-center p-8 bg-paper rounded-xl border-2 border-slate-200 shadow-md hover:shadow-lg hover:border-accent/30 hover:-translate-y-1 transition-all duration-300 group">
						<div class="w-16 h-16 bg-accent/10 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:bg-accent/20 group-hover:scale-110 transition-all duration-300">
							<svg class="w-8 h-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
							</svg>
						</div>
						<h4 class="text-xl font-semibold text-ink mb-2">Light</h4>
						<p class="text-base text-ink/70">Fast & lean</p>
					</div>
					<div class="text-center p-8 bg-paper rounded-xl border-2 border-slate-200 shadow-md hover:shadow-lg hover:border-accent/30 hover:-translate-y-1 transition-all duration-300 group">
						<div class="w-16 h-16 bg-accent/10 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:bg-accent/20 group-hover:scale-110 transition-all duration-300">
							<svg class="w-8 h-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
							</svg>
						</div>
						<h4 class="text-xl font-semibold text-ink mb-2">Clarity</h4>
						<p class="text-base text-ink/70">Purposeful design</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Work Preview with white background -->
		<section class="relative bg-paper py-16 md:py-24 overflow-hidden">
			<!-- Decorative gradient elements -->
			<div class="absolute top-0 right-0 w-96 h-96 bg-slate-300/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
			<div class="absolute bottom-0 left-0 w-80 h-80 bg-slate-300/15 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"></div>
			
			<div class="container relative z-10">
				<SectionHeading
					kicker="Selected work"
					title="Websites that outlast trends"
					description="Each project begins with structure and ends with care."
				/>
				<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
					<WorkCard
						title="Wright Wellness"
						summary="Modernized their existing site for better performance and user experience."
					/>
					<WorkCard
						title="Mesquite Symphony Orchestra"
						summary="Brand new site with modern design and functionality."
					/>
					<WorkCard
						title="Caminos del Inka"
						summary="Complete refresh of all program sites with unified design."
					/>
				</div>
				<div class="mt-12 text-center">
					<a
						href="/work"
						class="inline-flex items-center px-6 py-3 bg-accent text-paper rounded-xl font-semibold shadow-xl shadow-accent/40 hover:shadow-2xl hover:shadow-accent/50 hover:-translate-y-0.5 transition-all duration-200"
					>
						View all work
						<svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
						</svg>
					</a>
				</div>
			</div>
		</section>

		<!-- CTA Section with solid slate background -->
		<section class="bg-slate-200 py-16 md:py-24">
			<div class="container">
				<div class="max-w-3xl mx-auto text-center">
					<h2 class="text-3xl md:text-4xl font-semibold mb-4 text-ink">Ready to build something enduring?</h2>
					<p class="text-lg text-ink/70 mb-8 leading-relaxed">
						Let's start with a conversation about your goals and how we can help.
					</p>
					<div class="flex justify-center">
						<a
							href="/contact"
							class="inline-flex items-center justify-center px-8 py-4 bg-accent text-paper rounded-xl font-semibold no-underline shadow-xl shadow-accent/40 hover:shadow-2xl hover:shadow-accent/50 hover:-translate-y-0.5 transition-all duration-200"
						>
							Start a project
						</a>
					</div>
				</div>
			</div>
		</section>
	</main>
	<Footer />
</BaseLayout>
